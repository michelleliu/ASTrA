#include "frame.h"
#include "system.h"
#include "atom.h"
#include <vector>

using namespace std;
class AtomCounter
{
 public:
  AtomCounter();
  /// Constructor
  AtomCounter(System& a_system);
  /// Calculates COMs and computes density and number-of-atoms CVs given the current frame.
  void sample(Frame& a_frame);
  /// Normalizes the density profiles and CVs.
  void normalize();
  /// Prints the density and number of atoms to stdout.
  void print();

 private:
  System m_system;
  vector<vector<double, DIM> > m_COMs;
  vector<vector<int > > m_numAtoms;
  vector<vector<int > > m_numCOMs;
};
